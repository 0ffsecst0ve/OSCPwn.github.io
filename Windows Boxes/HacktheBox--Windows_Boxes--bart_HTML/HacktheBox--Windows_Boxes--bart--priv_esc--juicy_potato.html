<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>juicy potato</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><a href="../HacktheBox--Windows_Boxes.html">Windows Boxes</a></p>
<p><a href="HacktheBox--Windows_Boxes--bart.html">bart</a></p>

<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--note.html">note</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--nmap.html">nmap</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration.html">http enumeration</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster.html">gobuster</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster--forum.html">forum</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster--forum--source_code.html">source code</a></li>
</ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster--monitor.html">monitor</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster--monitor--forgot_password_page.html">forgot password page</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster--monitor--creds.html">creds</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--gobuster--monitor--creds--servers.html">servers</a></li>
</ol>
</ol>
</ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb.html">internal-01.bart.htb</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb--gobuster_internal-01.bart.htb.html">gobuster internal-01.bart.htb</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb--hydra.html">hydra</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb--hydra--bruteforced_user_harvey_login.html">bruteforced user harvey login</a></li>
</ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb--simple_chat.html">simple_chat</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb--simple_chat--register_form.php.html">register_form.php</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--internal-01.bart.htb--simple_chat--registered_user_st0ve_login.html">registered user st0ve login</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--initial_foothold.html">initial foothold</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--initial_foothold--internal-01.bart.htb-log-log.phpfilename=log.txt&username=harvey.html">internal-01.bart.htb/log/log.php?filename=log.txt&username=harvey</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--initial_foothold--log.txt_poison_w-_code_execution.html">log.txt poison w/ code execution</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--http_enumeration--initial_foothold--reverse_shell_w-_nishang.html">reverse shell w/ nishang</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Windows_Boxes--bart--priv_esc.html">priv esc</a></li>
<ol>
<li><a href="HacktheBox--Windows_Boxes--bart--priv_esc--juicy_potato.html">juicy potato</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--priv_esc--download_jp.exe_&_shell.bat_to_victim.html">download jp.exe & shell.bat to victim</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--priv_esc--jp.exe.html">jp.exe</a></li>
</ol>
<li><a href="HacktheBox--Windows_Boxes--bart--user-root.html">user/root</a></li>
<li><a href="HacktheBox--Windows_Boxes--bart--lessons_learned.html">lessons learned</a></li>
</ol></div>
<div class="page"><h1><b><u>juicy potato</u></b></h1><span style="color:#24ff00;">it's always a good idea to start priv-esc enumeration on a windows machine with </span><span style="color:#ffa500;">whoami /priv</span> <span style="color:#24ff00;">to see what kind of privileges our victim has</span><br /><img src="images/1683-1.png" alt="images/1683-1.png" /><span style="color:#24ff00;"><br /><br />the victim is vulnerable to the</span><span style="color:#ffa500;"> juicy potato</span><span style="color:#24ff00;"> exploit because the </span><span style="color:#ffa500;">SeImpersonatePrivilege</span><span style="color:#24ff00;"> state is enabled<br /><br />lets copy another </span><span style="color:#ffa500;">powershelltcp</span><span style="color:#24ff00;"> over and change the port it will call back to <br /></span><img src="images/1683-2.png" alt="images/1683-2.png" /><br /><img src="images/1683-3.png" alt="images/1683-3.png" /><br /><br />next lets create a <span style="color:#ffa500;">batch script</span> <span style="color:#24ff00;">locally that will have JP download our powershell script and call a reverse shell back to us<br /></span><img src="images/1683-4.png" alt="images/1683-4.png" /><br /><br />now lets copy <span style="color:#ffa500;">juicy potato</span><span style="color:#24ff00;"> to our bart directory or download it </span><a href="https://github.com/ohpe/juicy-potato/releases">here</a><br /><img src="images/1683-5.png" alt="images/1683-5.png" /><br /><br /><br /></div></div>
</body></html>