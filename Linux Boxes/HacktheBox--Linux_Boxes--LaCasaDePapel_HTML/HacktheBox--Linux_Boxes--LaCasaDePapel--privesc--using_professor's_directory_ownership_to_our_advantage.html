<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>using professor's directory ownership to our advantage</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="HacktheBox--Linux_Boxes--LaCasaDePapel.html">LaCasaDePapel</a></p>

<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--nmapAuto.html">nmapAuto</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--nmapAuto--nmap.html">nmap</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--nmapAuto--nmap--recon.html">recon</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--nmapAuto--nmap--recon--nikto.html">nikto</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--nmapAuto--nmap--recon--gobuster.html">gobuster</a></li>
</ol>
</ol>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit.html">vsftp 2.3.4 exploit</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--open_backdoor_on_port_6200_with_).html">open backdoor on port 6200 with :)</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--open_backdoor_on_port_6200_with_)--rlwrap_nc_to_port_6200.html">rlwrap nc to port 6200</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--open_backdoor_on_port_6200_with_)--rlwrap_nc_to_port_6200--phpinfo().html">phpinfo()</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--open_backdoor_on_port_6200_with_)--rlwrap_nc_to_port_6200--scandir.html">scandir</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--interesting_files.html">interesting files</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--interesting_files--ls_$tokyo.html">ls $tokyo</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--interesting_files--using_vi_to_clean_up_nairobi's_key.html">using vi to clean up nairobi's key</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--interesting_files--using_vi_to_clean_up_nairobi's_key--nairobi's_public_key.html">nairobi's public key</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--vsftp_2.3.4_exploit--interesting_files---etc-passwd.html">/etc/passwd</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold.html">initial foothold</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--dl_cert.html">dl cert</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--dl_cert--compare_public_keys_of_nairobi's_key_and_webserver's_key.html">compare public keys of nairobi's key and webserver's key</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key.html">generate client key</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key--certificate_sign_request_data.html">certificate sign request data</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key--convert_to_PKCS12.html">convert to PKCS12</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key--convert_to_PKCS12--info.html">info</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key--add_key_to_firefox_certificate_store.html">add key to firefox certificate store</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key--add_ca.crt_to_firefox.html">add ca.crt to firefox</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--generate_client_key--refresh_page.html">refresh page</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--Local_file_Inclusion_Vuln.html">Local file Inclusion Vuln</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--Local_file_Inclusion_Vuln--.ssh.html">.ssh</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--ssh_into_professor_acct.html">ssh into professor acct</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--initial_foothold--user.txt.html">user.txt</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--privesc.html">privesc</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--privesc--pspy.html">pspy</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--privesc--memcache.ini.html">memcache.ini</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--privesc--using_professor's_directory_ownership_to_our_advantage.html">using professor's directory ownership to our advantage</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--privesc--revshell.html">revshell</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--user-root.html">user/root</a></li>
<li><a href="HacktheBox--Linux_Boxes--LaCasaDePapel--lessons_learned.html">lessons learned</a></li>
</ol></div>
<div class="page"><h1><b><u>using professor's directory ownership to our advantage</u></b></h1><span style="color:#00ff00;">Although we </span><span style="color:#ff0000;">do not </span><span style="color:#00ff00;">have permission to make changes to memcache.ini since root wrote it, professor DOES however, own his own /</span><span style="color:#ffa500;">home/professor </span><span style="color:#00ff00;">directory <br /><br /></span><img src="images/1381-1.png" alt="images/1381-1.png" /><br /><img src="images/1381-2.png" alt="images/1381-2.png" /><br /><br /><img src="images/1381-3.png" alt="images/1381-3.png" /><br /><br />meaning we can simply <span style="color:#ffff00;">move/rename</span><span style="color:#00ff00;"> </span><span style="color:#ffa500;">memcache.ini </span><span style="color:#00ff00;">within our directory, allowing us to write our own </span><span style="color:#ffa500;">memcache.ini </span><span style="color:#00ff00;">that will be called in the schdeuled process we observed from </span><span style="color:#ffa500;">pspy</span><br /><img src="images/1381-4.png" alt="images/1381-4.png" /><br /><img src="images/1381-5.png" alt="images/1381-5.png" /><br /><img src="images/1381-6.png" alt="images/1381-6.png" /><br /><br /><br /><img src="images/1381-7.png" alt="images/1381-7.png" /><br /><br /><span style="color:#24ff00;">finally, we replace the </span><span style="color:#ffa500;">command</span><span style="color:#24ff00;"> variable with a reverse shell of our own</span><br /><img src="images/1381-8.png" alt="images/1381-8.png" /><br /><img src="images/1381-9.png" alt="images/1381-9.png" /><br /><img src="images/1381-10.png" alt="images/1381-10.png" /><br /><img src="images/1381-11.png" alt="images/1381-11.png" /><br /><br /><br /></div></div>
</body></html>