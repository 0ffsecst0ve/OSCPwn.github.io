<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>test.py cron job</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="HacktheBox--Linux_Boxes--bashed.html">bashed</a></p>

<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--nmap.html">nmap</a></li>
<li><a href="HacktheBox--Linux_Boxes--bashed--phpbash_github.html">phpbash github</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--phpbash_github--phpbash.php_source_code.html">phpbash.php source code</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--http.html">http</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--http--gobuster.html">gobuster</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--http--gobuster--dev-phpbash.min.php.html">dev/phpbash.min.php</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--http--gobuster--dev-phpbash.min.php--foothold_calling_back_reverse_shell_with_php.rev.html">foothold calling back reverse shell with php.rev</a></li>
</ol>
</ol>
</ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_scriptmanager.html">priv esc to scriptmanager</a></li>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_root.html">priv esc to root</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_root--Linux_smart_enumeration.html">Linux smart enumeration</a></li>
<ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_root--Linux_smart_enumeration--upload_lse.sh.html">upload lse.sh</a></li>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_root--Linux_smart_enumeration--lse_report.html">lse report</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_root--test.py_cron_job.html">test.py cron job</a></li>
<li><a href="HacktheBox--Linux_Boxes--bashed--priv_esc_to_root--reverse_shell.html">reverse shell</a></li>
</ol>
<li><a href="HacktheBox--Linux_Boxes--bashed--user-root.html">user/root</a></li>
<li><a href="HacktheBox--Linux_Boxes--bashed--lessons_learned.html">lessons learned</a></li>
</ol></div>
<div class="page"><h1><b><u>test.py cron job</u></b></h1><span style="color:#24ff00;">test.py has got to be a </span><span style="color:#ffa500;">cron job</span><span style="color:#24ff00;"> that updates itself </span><span style="color:#ffff00;">every minute</span><span style="color:#24ff00;">, its also owned by root! This is our ticket in....</span><br /><br /><img src="images/37-1.png" alt="images/37-1.png" /><br /><img src="images/37-2.png" alt="images/37-2.png" /><br /><br /><span style="color:#24ff00;">we notice that</span><span style="color:#ffa500;"> test.txt</span><span style="color:#24ff00;"> was updated a minutes ago!</span><br /><br /><br /><span style="color:#24ff00;">lets see what</span><span style="color:#ffa500;"> test.py</span><span style="color:#24ff00;"> does</span><br /><img src="images/37-3.png" alt="images/37-3.png" /><br /><br /><span style="color:#24ff00;">we see that test.txt is outputted</span><br /><img src="images/37-4.png" alt="images/37-4.png" /><br /><br /><span style="color:#24ff00;">it has become overabundantely clear that since scriptmanager owns test.py and root runs test.py every MINUTE, we can easily </span><span style="color:#ffff00;">hijack</span><span style="color:#24ff00;"> test.py to run a reverse shell in python to call back to our attack machine and simply wait a minute for root's cron job to execute it with root privileges back to us<br /></span><br /></div></div>
</body></html>